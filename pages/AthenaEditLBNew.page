<apex:page controller="AthenaEditLBNew" showheader="false" standardstylesheets="false" doctype="html-5.0" applybodytag="false" applyhtmltag="false">
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8" />
    <title>Edit</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="hp" />
    
    <apex:stylesheet value="{!URLFOR($Resource.assets_athena, 'assets_athena/bootstrap/css/bootstrap.min.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.assets_athena, 'assets_athena/bootstrap/css/bootstrap-responsive.min.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.assets_athena, 'assets_athena/font-awesome/css/font-awesome.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.css_athena, 'css_athena/style.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.css_athena, 'css_athena/style-responsive.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.css_athena, 'css_athena/style-default.css')}" />

    
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body>
    
    <!-- BEGIN HEADER -->
<header>
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container-fluid"> <a class="HpLogo"> 
          <apex:image url="{!URLFOR($Resource.img_athena, 'img_athena/HP_Blue_Logo.png')}" alt="HP Logo"/></a>
        <div class="nav mtop10">
          <h1>Social Learning Platform</h1>
          <h3>Learning on your terms</h3>
        </div>
        <ul class="nav pull-right top-menu mtop16">
          <!-- BEGIN USER LOGIN DROPDOWN -->
          <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Welcome <span class="username colorBlue">{!LoggedinUserDtls.Name}</span> <span><apex:image url="{!LoggedinUserDtls.FullPhotoUrl}" styleClass="userImage" alt="no_username"/></span> 
            <!--<b class="caret"></b>--> 
            </a>
            <ul class="dropdown-menu extended logout">
              <li><a href="https://{!getSfInstance}/AthenaUserProfile/{!LoggedinUserDtls.id}">My Profile</a></li>
              <li><a href="https://{!getSfInstance}/secur/logout.jsp">Log Out</a></li>
            </ul>
          </li>
          <!-- END USER LOGIN DROPDOWN -->
        </ul>
        
         <apex:form id="UPform">
            <div class="nav notify-row"> <span class="add-on icon-search topSearchIcon topSearch"></span>
              <apex:inputText id="searchText" styleClass="typeahead-devs" size="20" value="{!strSearchValue}" html-Placeholder="Please Enter Search Text" onkeydown="SubmitSearchForm(event);"/>              
              <apex:commandButton action="{!NavigateToGlobalSearch}" value="Search" id="searchButton" title="Click to Search for Learning Board" style="display:none;"/>
            </div>
        </apex:form>

        
         
      </div>
         
        <div class="alert alert-error span4 pull-right mr30" style="display:none" id="err_msg">
       </div>
    </div>
  </div>
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container-fluid menunavBar"> <a class="icon-home topNavIcon"></a> <a class="icon-book topNavIcon"  href="https://{!getSfInstance}/apex/AthenaSocialLearning"></a> 
          <apex:OutputPanel rendered="{!IsLearningBoardCreator}"> 
              <a class="topNavIconC" href="https://{!getSfInstance}/apex/AthenacreatelearningBoard"></a>
         </apex:OutputPanel> 
           <a class="icon-question-sign topNavIcon pull-right" href="https://ea2013.sharepoint.hp.com/teams/esplm/SitePages/Social Learning.aspx" target="_blank"></a>
      </div>
        
    </div>
  </div>
</header>
<!-- END HEADER --> 
<!-- BEGIN CONTAINER -->
<div id="container" class="row-fluid"> 
  <!-- BEGIN PAGE -->
  <div id="main-content">
  <div class="BDbg">
    <div class="BDheading">
      <h2>{!LearningBoardDtls.LBName}</h2>
    </div>
    <div class="container-fluid">
      <div class="row-fluid mtop10">
        <div class="span8">
          <div class="PositionR"> 
              <apex:outputPanel rendered="{!!LearningBoardDtls.StaticImage}"> 
            
            <apex:image url="{!URLFOR($Action.Attachment.Download, LearningBoardDtls.AttachmentId)}" styleClass="BoardDetailImage" />
          </apex:outputPanel>
          <apex:outputPanel rendered="{!LearningBoardDtls.StaticImage}">
                              <img src='{!LearningBoardDtls.DefaultImageName}' styleClass="BoardDetailImage" />
          
          </apex:outputPanel>

            <div class="BoardTit">
              <div class="span8">
                <h4>{!LearningBoardDtls.LBSubTitle}</h4>
              </div>
              <div class="span4">
                <div class="hpit_athena_ca-item-personPhoto mtop10"> 
                
                    <apex:image url="{!LearningBoardOwnerDtls.FullPhotoUrl}" width="35" height="35" alt="no_username_small."/>
                </div>
                <div class="hpit_athena_ca-item-personName colorWhite mtop10"> <a style="color:#fff" class="hpit_athena_ca_itemLink" href="/apex/AthenaUserProfile?id={!LearningBoardOwnerDtls.id}">  {!LearningBoardOwnerDtls.Name}  </a> </div>
                 <input value="follow" class="btnAthena btn-primary shareBtn" style="margin-top:13px; width:37px" />
              </div>
            </div>
          </div>
        </div>
        <div class="span4">
            <div style="height:260px;">
                <p>
                     {!LearningBoardDtls.LBShortDescription}
                     <a class="" data-toggle="modal" href="#LBreadmore"> Readmore </a>
                </p>
            </div>

<div id="LBreadmore" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1" aria-hidden="true" data-backdrop="static">
  <div class="modal-header">
    <h3>Learning Board Description</h3>
  </div>
  <div class="modal-body">
    <p> 
        {!LearningBoardDtls.LBDescription}

    </p>
  </div>
  <div class="modal-footer">
    <button class="btnAthena" data-dismiss="modal" aria-hidden="true">Cancel</button>
    
  </div>
</div>


            


<div id="TopicReadMore" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1" aria-hidden="true" data-backdrop="static">
  <div class="modal-header">
    <h3>Learning  Description</h3>
  </div>
  <div class="modal-body">
    <div id="Topic"></div>
  </div>
  <div class="modal-footer">
    <button class="btnAthena" data-dismiss="modal" aria-hidden="true">Cancel</button>
    
  </div>
</div>
           

            <div class="BoardBtns">
            <button class="demo btnAthena btn-primary icon-map-marker fs15" data-toggle="modal" href="#Location"></button>
            <button class="demo btnAthena btn-primary icon-bookmark fs15" data-toggle="modal" href="#bookmark"></button>
                <a href="mailto:?Subject={!LearningBoardDtls.LBName}&Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A{!LearningBoardDtls.LBName}%0D%0A{!LearningBoardDtls.LBDescription} %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}">
            <button class="demo btnAthena btn-primary shareBtn">Share</button></a>
          </div>
        </div>
      </div>
    </div>
  </div>

      <!--
      <div class="container-fluid clearB">
      <div class="row-fluid mtop20">
        <div class="span8">

          <div class="panel-group" id="Div1">
           
            <div class="" id="Div2">
                <div class='panel panel-default'> 
          <div class='panel-heading'>
          <h4 class='panel-title'> 
              <a onclick="ShowHideChatter(this)"  class='accordion-toggle a_underNone' data-toggle='collapse' data-parent='#accordion'> <span class='icon-plus-sign-alt'></span>
               <input type="text" value="What's on your mind?"/> </a>  </h4>

      </div>
          
          </div>
              <div id="DivChatterLB"  style="display:none">
                  <chatter:feed entityid="{!LearningBoardDtls.LBid}" />
              </div>
                </div>
              </div>
            </div>
          </div>
          </div>

      -->

  <div class="container-fluid">
      <div class="row-fluid mtop20">
        <div class="span8">

          <div class="panel-group" id="accordion">
           
            <div class="" id="DivLearnings">
              
            </div>
          </div>
        </div>
        <div class="span4">
          <div class="row-fluid ">
            <div class="hpit_athena_rightDiv span12"> 
                Followers
                <hr />
                  <apex:repeat value="{!Followers}" var="follow" > 
                 <a href="https://{!getSfInstance}/apex/AthenaUserProfile?id={!follow.id}" class="hpit_athena_ca-item-personPhoto"> <apex:image width="35" height="35" url="{!follow.FullPhotoUrl}"  /></a>
                </apex:repeat>
            </div>
          </div>
          <div class="row-fluid ">
            <div class="hpit_athena_rightDiv span12"> Contributors 
               <hr />
             
                  <apex:repeat value="{!Contributors}" var="cont" > 
                 <a href="https://{!getSfInstance}/apex/AthenaUserProfile?id={!cont.id}" class="hpit_athena_ca-item-personPhoto"> <apex:image width="35" height="35" url="{!cont.FullPhotoUrl}"  /></a>
                </apex:repeat>
              </div>
          </div>
          <div class="row-fluid ">
            <div class="hpit_athena_rightDiv span12"> <h3>Related boards</h3> 
                <hr />
              
          <apex:repeat value="{!RelatedLearningBoards}" var="rlb" > <a class="hpit_athena_ca_itemLink" href="/apex/athenaLearningBoardDtls?id={!rlb.Lbid}">
            <p class="hpit_athena_rightHeading" style="margin:0"> <span style="font-size:15px" >{!rlb.LBName}</span> </p>
            </a>
            <p style="margin:0"><span style="color:#7A7878"> {!rlb.LBOwnerName}</span></p>
            <a class="hpit_athena_ca_itemLink" href="/apex/athenaLearningBoardDtls?id={!rlb.Lbid}">
            <p>
              <apex:outputPanel rendered="{!!rlb.StaticImage}"> 
                <!-- <img src="data:{!rlb.AttContentType};base64,{!rlb.Attbody}"  width="220" height="162"/> -->
                <apex:image url="{!URLFOR($Action.Attachment.Download, rlb.AttachmentId)}"  width="220" height="162" />
              </apex:outputPanel>
              <apex:outputPanel rendered="{!rlb.StaticImage}">
                                            <img src='{!rlb.DefaultImageName}' width="220" height="162"/>
               <!-- <apex:image url="{!URLFOR($Resource.athena_images, 'images/antena_defaultImgLearning.png')}" width="220" height="162"/>-->
              </apex:outputPanel>
            </p>
            </a>
            <hr />
          </apex:repeat>
          <!--  <p> Sales goals to the next level</p> --> 
        </div>
          </div>
        </div>
      </div>
    </div>
</div>
  <!-- END PAGE --> 
</div>

    <div class="slide-out-div">
        <a class="handle" href="http://link-for-non-js-users">Content</a>
        <apex:form id="ChatterFeedBack">
                <p>What do you like?</p>
            <apex:inputText value="{!ChatterLike}" id="theTextInput"/>
            <p>What need to be improved?</p>
        <apex:inputTextarea id="newDesc" value="{!ChatterImprovement}"/><p/>
        <apex:commandButton value="Send" action="{!AddToChatterComment}"/>
   
            </apex:form>
    </div>


<!-- END CONTAINER --> 

<!-- BEGIN FOOTER -->
<div id="footer"> © Hewlett-Packard Development Company, L.P.     |     HP Restricted </div>
<!-- END FOOTER --> 

    <!-- BEGIN JAVASCRIPTS --> 
<!-- Load javascripts at bottom, this will reduce page load time
         --> 
    <apex:includeScript value="{!URLFOR($Resource.js_athena, 'js_athena/jquery-1.8.3.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.assets_athena, 'assets_athena/bootstrap/js/bootstrap.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.assets_athena, 'assets_athena/jquery-ui/jQuery_UI_1_10_3.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.js_athena, 'js_athena/typeahead.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.js_athena, 'js_athena/jquery.feedback_me.js')}"/>
    <!-- ie8 fixes -->
    <!--[if lt IE 9]>
   <apex:includeScript value="{!URLFOR($Resource.js_athena, 'js_athena/excanvas.js')}"/>
   <apex:includeScript value="{!URLFOR($Resource.js_athena, 'js_athena/respond.js')}"/>
   <![endif]-->

    <!--common script for all pages-->
    <apex:includeScript value="{!URLFOR($Resource.js_athena, 'js_athena/common-scripts.js')}"/>

    <!-- END JAVASCRIPTS -->   
    <script  type="text/javascript">
        function TopicDialog(data) {
            var Description = $(data).attr('data-topicDesc');


        }


        $('.popovers').popover();

        $('#accordion1').collapse({
            toggle: false
        }).on('show', function (e) {
            $(e.target).parent().find(".icon-chevron-down").removeClass("icon-chevron-down").addClass("icon-chevron-up");
        }).on('hide', function (e) {
            $(e.target).parent().find(".icon-chevron-up").removeClass("icon-chevron-up").addClass("icon-chevron-down");
        });

        // Utility; parse out parameter by name from URL query string
        $.urlParam = function (name) {
            debugger;
            var resultData = '';
            var results = new RegExp('[\\?&]' + name + '=([^&#]*)')
                .exec(window.location.href);
            if (results == null) {
                resultData = '';
            }
            else {
                resultData = results[1] || 0;
            }
            return resultData;
        }



        function LoadLearningBoard() {
            var LearningBoardId = $.urlParam('id');

            Visualforce.remoting.Manager.invokeAction(
                '{!$RemoteAction.AthenaEditLBNew.getLrngWithCat}',
                LearningBoardId,
                DisplayLearnings
            );
        }

        function ShowHideCategory(data) {
            debugger;
            if ($(data).parent().find(".icon-plus-sign-alt").hasClass("icon-plus-sign-alt")) {
                $(data).parent().find(".icon-plus-sign-alt").removeClass("icon-plus-sign-alt").addClass("icon-check-minus");
            }
            else {
                $(data).parent().find(".icon-check-minus").removeClass("icon-check-minus").addClass("icon-plus-sign-alt");
            }



        }

        function ShowHideChatter(data) {
            debugger;
            if ($(data).parent().find(".icon-plus-sign-alt").hasClass("icon-plus-sign-alt")) {
                $('#DivChatterLB').show();
                $(data).parent().find(".icon-plus-sign-alt").removeClass("icon-plus-sign-alt").addClass("icon-check-minus");
            }
            else {
                $('#DivChatterLB').hide();
                $(data).parent().find(".icon-check-minus").removeClass("icon-check-minus").addClass("icon-plus-sign-alt");
            }



        }

        function getQueryString(sParam) {
            debugger;
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');

            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0].toUpperCase() == sParam.toUpperCase()) {
                    return sParameterName[1];
                }
            }
        }

        function in_array(array, id) {
            debugger;
            for (var i = 0; i < array.length; i++) {
                if (array[i].Lid == id) {
                    return true;
                }
            }
            return false;
        }

        function DisplayLearnings(result, event) {
            debugger;


            $('#DivLearnings').empty();
            var TopicId = getQueryString('topicId');

            //var TopicId = $.urlParam('topicId');
            if (TopicId != undefined) {

                for (var icount = 0; icount < result.length; icount++) {
                    if (result[icount].lstlrngs.length > 0) {

                        if (in_array(result[icount].lstlrngs, TopicId)) {

                            var spacehref = result[icount].CategoryName.replace(/ /g, "_");
                            var hrefurl = '#' + spacehref;
                            var generateLearning = ("<div class='panel panel-default'> <div class='panel-heading'>" +
                            "<h4 class='panel-title'> <a   onclick='ShowHideCategory(this)'  class='accordion-toggle a_underNone' data-toggle='collapse' data-parent='#accordion' href='" + hrefurl + "'> <span class='icon-check-minus'></span> " + result[icount].CategoryName + " </a>  </h4>" +
                                  "</div>");
                            $('#DivLearnings').append(generateLearning);
                            var generateL = ("<div id='" + spacehref + "' class='panel-collapse collapse'>");

                            $('#DivLearnings').append(generateL);


                            for (var icnt = 0; icnt < result[icount].lstlrngs.length; icnt++) {
                                if (result[icount].lstlrngs[icnt].Lid == TopicId) {
                                    debugger;
                                    $('#DivLearnings').append("<hr />");
                                }

                                if (result[icount].lstlrngs[icnt].LType == 'Text') {
                                    var GenerateUrl = (
                                           "<div class='panel-body'>" +
                                                     " <div class='span12' >" +
                                                      "  <div class='span4'>" +
                                                       "   <div class='m10'> <img src=" + result[icount].lstlrngs[icnt].DefaultImageName + "  />  </div>" +
                                                        "</div>" +
                                                        "<div class='span8'>" +
                                                         " <div class='m10'>" +
                                                          "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                           " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                            "<div>" +
                                                             " <button class='demo btnAthena btn-primary pull-right'>Share</button>" +
                                                              " <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span> </div>" +
                                                          "</div>" +
                                                        "</div>" +
                                                      "</div>" +
                                                      "</div>");
                                    $('#DivLearnings').append(GenerateUrl);

                                }
                                else if (result[icount].lstlrngs[icnt].LType == 'Video') {
                                    var GenerateUrl = (
                                           "<div class='panel-body'>" +
                                                     " <div class='span12' >" +
                                                      "  <div class='span4'>" +
                                                       "   <div class='m10'> <img src=" + result[icount].lstlrngs[icnt].DefaultImageName + "  />  </div>" +
                                                        "</div>" +
                                                        "<div class='span8'>" +
                                                         " <div class='m10'>" +
                                                          "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                           " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                            "<div>" +
                                                             " <button class='demo btnAthena btn-primary pull-right'>Share</button>" +
                                                              " <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span> </div>" +
                                                          "</div>" +
                                                        "</div>" +
                                                      "</div>" +
                                                      "</div>");
                                    $('#DivLearnings').append(GenerateUrl);

                                }

                                else if (result[icount].lstlrngs[icnt].LType == 'Link or Document') {

                                    if (result[icount].lstlrngs[icnt].DocType == 'PDF') {
                                        var generateLText = ("<div class='panel-body'>" +
                                                              " <div class='span12'>" +
                                                               "  <div class='span4'>" +
                                                                "   <div class='m10'> <iframe src=" + result[icount].lstlrngs[icnt].LURL + " class='hpit_athena_detailPostIfram' frameborder='0'   scrolling='no' style='border:1px solid #999999'></iframe>  </div>" +
                                                                 "</div>" +
                                                                 "<div class='span8'>" +
                                                                  " <div class='m10'>" +
                                                                   "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                                    " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                                     "<div>" +
                                                                      " <button class='demo btnAthena btn-primary pull-right'>Share</button>" +
                                                                       "<span class='detailDoc'> <a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].filePDFUpload + " /> </a> </span> <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span> </div>" +
                                                                   "</div>" +
                                                                 "</div>" +
                                                               "</div>" +
                                                             "</div>");
                                        $('#DivLearnings').append(generateLText);
                                    }
                                    else if (result[icount].lstlrngs[icnt].DocType == 'PPT') {
                                        var generateLText = ("<div class='panel-body'>" +
                                                              " <div class='span12'>" +
                                                               "  <div class='span4'>" +
                                                                "   <div class='m10'> <iframe src=" + result[icount].lstlrngs[icnt].LURL + " class='hpit_athena_detailPostIfram' frameborder='0'   scrolling='no' style='border:1px solid #999999'></iframe>  </div>" +
                                                                 "</div>" +
                                                                 "<div class='span8'>" +
                                                                  " <div class='m10'>" +
                                                                   "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                                    " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                                     "<div>" +
                                                                      " <button class='demo btnAthena btn-primary pull-right'>Share</button>" +
                                                                       "<span class='detailDoc'> <a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].filePPTUpload + " /> </a> </span> <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span> </div>" +
                                                                   "</div>" +
                                                                 "</div>" +
                                                               "</div>" +
                                                             "</div>");
                                        $('#DivLearnings').append(generateLText);
                                    }
                                    else if (result[icount].lstlrngs[icnt].DocType == 'DOC') {
                                        var generateLText = ("<div class='panel-body'>" +
                                                              " <div class='span12'>" +
                                                               "  <div class='span4'>" +
                                                                "   <div class='m10'> <iframe src=" + result[icount].lstlrngs[icnt].LURL + " class='hpit_athena_detailPostIfram' frameborder='0'   scrolling='no' style='border:1px solid #999999'></iframe>  </div>" +
                                                                 "</div>" +
                                                                 "<div class='span8'>" +
                                                                  " <div class='m10'>" +
                                                                   "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                                    " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                                     "<div>" +
                                                                      " <button class='demo btnAthena btn-primary pull-right'>Share</button>" +
                                                                       "<span class='detailDoc'> <a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].fileWordUpload + " /> </a> </span> <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span> </div>" +
                                                                   "</div>" +
                                                                 "</div>" +
                                                               "</div>" +
                                                             "</div>");
                                        $('#DivLearnings').append(generateLText);
                                    }
                                    else if (result[icount].lstlrngs[icnt].DocType == 'OTHER') {
                                        var generateLText = ("<div class='panel-body'>" +
                                                              " <div class='span12'>" +
                                                               "  <div class='span4'>" +
                                                                "   <div class='m10'> <iframe src=" + result[icount].lstlrngs[icnt].LURL + " class='hpit_athena_detailPostIfram' frameborder='0'   scrolling='no' style='border:1px solid #999999'></iframe>  </div>" +
                                                                 "</div>" +
                                                                 "<div class='span8'>" +
                                                                  " <div class='m10'>" +
                                                                   "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                                    " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                                     "<div>" +
                                                                      " <button class='demo btnAthena btn-primary pull-right'>Share</button>" +
                                                                       "<span class='detailDoc'> <a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].fileURLUpload + " /> </a> </span> <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span> </div>" +
                                                                   "</div>" +
                                                                 "</div>" +
                                                               "</div>" +
                                                             "</div>");
                                        $('#DivLearnings').append(generateLText);
                                    }




                                }



                            }


                            $('#DivLearnings').append("</div>");
                        }
                        else {

                            //Collaps and Expand

                            var spacehref = result[icount].CategoryName.replace(/ /g, "_");
                            var hrefurl = '#' + spacehref;
                            var generateLearning = ("<div class='panel panel-default'> <div class='panel-heading'>" +
                            "<h4 class='panel-title'> <a   onclick='ShowHideCategory(this)'  class='accordion-toggle a_underNone' data-toggle='collapse' data-parent='#accordion' href='" + hrefurl + "'> <span class='icon-plus-sign-alt'></span> " + result[icount].CategoryName + " </a>  </h4>" +
                                  "</div>");
                            $('#DivLearnings').append(generateLearning);
                            var generateL = ("<div id='" + spacehref + "' class='panel-collapse collapse'>");

                            var GenerateUrl = '';
                            var generateLText = '';
                            var IntegrateContent = '';
                            var generateVideo = '';
                            var LinkRelatedPDF = '';
                            var clientFacing = '';
                            var NextDviToComplete = '';
                            IntegrateContent = generateL;


                            for (var icnt = 0; icnt < result[icount].lstlrngs.length; icnt++) {

                                if (result[icount].lstlrngs[icnt].LType == 'Text') {
                                    GenerateUrl = (
                                       "<div class='panel-body'>" +
                                                 " <div class='span12' >" +
                                                  "  <div class='span4'>" +
                                                   "   <div class='m10'> <img src=" + result[icount].lstlrngs[icnt].DefaultImageName + "  />  </div>" +
                                                    "</div>" +
                                                    "<div class='span8'>" +
                                                     " <div class='m10'>" +
                                                      "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                       " <p> " + result[icount].lstlrngs[icnt].LDescription + "   </p>" +
                                                      "<div>" +
                                                        "<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                                         " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>");
                                    IntegrateContent += GenerateUrl;
                                    if (result[icount].lstlrngs[icnt].ClientFacing) {
                                        debugger;
                                        clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                        IntegrateContent += clientFacing;
                                    }

                                    NextDviToComplete = ("</div>" +
                                                      "</div>" +
                                                    "</div>" +
                                                  "</div>" +
                                                  "</div>");
                                    IntegrateContent += NextDviToComplete;


                                }
                                else if (result[icount].lstlrngs[icnt].LType == 'Link or Document') {
                                    GenerateUrl = (
                                      "<div class='panel-body'>" +
                                                " <div class='span12' >" +
                                                 "  <div class='span4'>" +
                                                  "   <div class='m10'> <img src=" + result[icount].lstlrngs[icnt].DefaultImageName + "  />  </div>" +
                                                   "</div>" +
                                                   "<div class='span8'>" +
                                                    " <div class='m10'>" +
                                                     "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                      " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                       "<div>");

                                    IntegrateContent += GenerateUrl;

                                    if (result[icount].lstlrngs[icnt].DocType == 'PDF') {
                                        debugger;

                                        LinkRelatedPDF = ("<a href='mailto:?Subject=" + result[icount].lstlrngs[icnt].LName + " &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                            "<button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +

                                                          "<span class='detailDoc'> " +
                                        "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].filePDFUpload + " /> </a> " +
                                        "</span> ");
                                        IntegrateContent += LinkRelatedPDF;
                                        if (result[icount].lstlrngs[icnt].ClientFacing) {
                                            clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                            IntegrateContent += clientFacing;
                                        }

                                        NextDviToComplete = ("</div>" +
                                                          "</div>" +
                                                        "</div>" +
                                                      "</div>" +
                                                      "</div>");
                                        IntegrateContent += NextDviToComplete;


                                    }

                                    else if (result[icount].lstlrngs[icnt].DocType == 'PPT') {
                                        LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                            " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +

                                                          "<span class='detailDoc'> " +
                                        "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].filePPTUpload + " /> </a> " +
                                        "</span> ");

                                        IntegrateContent += LinkRelatedPDF;
                                        if (result[icount].lstlrngs[icnt].ClientFacing) {
                                            clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                            IntegrateContent += clientFacing;
                                        }

                                        NextDviToComplete = ("</div>" +
                                                          "</div>" +
                                                        "</div>" +
                                                      "</div>" +
                                                      "</div>");
                                        IntegrateContent += NextDviToComplete;

                                    }

                                    else if (result[icount].lstlrngs[icnt].DocType == 'DOC') {
                                        LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                            " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +

                                                          "<span class='detailDoc'> " +
                                        "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].fileWordUpload + " /> </a> " +
                                        "</span> ");

                                        IntegrateContent += LinkRelatedPDF;
                                        if (result[icount].lstlrngs[icnt].ClientFacing) {
                                            clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                            IntegrateContent += clientFacing;
                                        }

                                        NextDviToComplete = ("</div>" +
                                                          "</div>" +
                                                        "</div>" +
                                                      "</div>" +
                                                      "</div>");
                                        IntegrateContent += NextDviToComplete;

                                    }

                                    else if (result[icount].lstlrngs[icnt].DocType == 'OTHER') {
                                        LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                            " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +
                                         "<span class='detailDoc'> " +
                                        "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].fileURLUpload + " /> </a> " +
                                        "</span> ");

                                        IntegrateContent += LinkRelatedPDF;
                                        if (result[icount].lstlrngs[icnt].ClientFacing) {
                                            clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                            IntegrateContent += clientFacing;
                                        }

                                        NextDviToComplete = ("</div>" +
                                                          "</div>" +
                                                        "</div>" +
                                                      "</div>" +
                                                      "</div>");
                                        IntegrateContent += NextDviToComplete;

                                    }

                                }


                                else if (result[icount].lstlrngs[icnt].LType == 'Video') {
                                    generateLText = ("<div class='panel-body'>" +
                                                           " <div class='span12'>" +
                                                            "  <div class='span4'>" +
                                                             "   <div class='m10'> <iframe src=" + result[icount].lstlrngs[icnt].LURL + " class='hpit_athena_detailPostIfram' frameborder='0'   scrolling='no' style='border:1px solid #999999'></iframe>  </div>" +
                                                              "</div>" +
                                                              "<div class='span8'>" +
                                                               " <div class='m10'>" +
                                                                "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                                 " <p> " + result[icount].lstlrngs[icnt].LDescription + "  </p>" +
                                                                  "<div>" +
                                                                   "<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                                                   " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>");


                                    IntegrateContent += generateLText;
                                    if (result[icount].lstlrngs[icnt].ClientFacing) {
                                        clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                        IntegrateContent += clientFacing;
                                    }

                                    NextDviToComplete = ("</div>" +
                                                      "</div>" +
                                                    "</div>" +
                                                  "</div>" +
                                                  "</div>");
                                    IntegrateContent += NextDviToComplete;

                                }
                            }


                            var LastDiv = "</div>";
                            IntegrateContent += LastDiv;
                            $('#DivLearnings').append(IntegrateContent);
                        }




                    }

                }
            }
            else {

                for (var icount = 0; icount < result.length; icount++) {
                    if (result[icount].lstlrngs.length > 0) {
                        var spacehref = result[icount].CategoryName.replace(/ /g, "_");
                        var hrefurl = '#' + spacehref;
                        var generateLearning = ("<div class='panel panel-default'> <div class='panel-heading'>" +
                        "<h4 class='panel-title'> <a   onclick='ShowHideCategory(this)'  class='accordion-toggle a_underNone' data-toggle='collapse' data-parent='#accordion' href='" + hrefurl + "'> <span class='icon-plus-sign-alt'></span> " + result[icount].CategoryName + " </a>  </h4>" +
                              "</div>");
                        $('#DivLearnings').append(generateLearning);
                        var generateL = ("<div id='" + spacehref + "' class='panel-collapse collapse'>");

                        var GenerateUrl = '';
                        var generateLText = '';
                        var IntegrateContent = '';
                        var generateVideo = '';
                        var LinkRelatedPDF = '';
                        var clientFacing = '';
                        var NextDviToComplete = '';
                        IntegrateContent = generateL;


                        for (var icnt = 0; icnt < result[icount].lstlrngs.length; icnt++) {
                            var spacehrefLearning = result[icount].lstlrngs[icnt].LName.replace(/ /g, "_");
                            var hrefurlLearning = '#' + spacehrefLearning;

                            if (result[icount].lstlrngs[icnt].LType == 'Text') {
                                GenerateUrl = (
                                       "<div class='panel-body'>" +
                                                 " <div class='span12' >" +
                                                  "  <div class='span4'>" +
                                                   "   <div class='m10'> <img src=" + result[icount].lstlrngs[icnt].DefaultImageName + "  />  </div>" +
                                                    "</div>" +
                                                    "<div class='span8'>" +
                                                     " <div class='m10'>" +
                                                      "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                       " <p> " + result[icount].lstlrngs[icnt].LShortDescription + "  </p>" +

                                                       "<a class='' data-toggle='modal' href='" + hrefurlLearning + "'> Readmore </a>" +

                                                      "<div id='" + spacehrefLearning + "' class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel1' aria-hidden='true' data-backdrop='static'>" +
  "<div class='modal-header'>" +
   " <h3>Topic Description</h3>" +
  "</div>" +
  "<div class='modal-body'>" +
   " <p> " +

                                "'" + result[icount].lstlrngs[icnt].LDescription + "'" +
    "</p>" +
  "</div>" +
  "<div class='modal-footer'>" +
   " <button class='btnAthena' data-dismiss='modal' aria-hidden='true'>Cancel</button>" +

  "</div>" +
"</div>" +



                                                        "<div>" +
                                                        "<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                                         " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>");
                                IntegrateContent += GenerateUrl;
                                if (result[icount].lstlrngs[icnt].ClientFacing) {
                                    debugger;
                                    clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                    IntegrateContent += clientFacing;
                                }

                                NextDviToComplete = ("</div>" +
                                                  "</div>" +
                                                "</div>" +
                                              "</div>" +
                                              "</div>");
                                IntegrateContent += NextDviToComplete;


                            }
                            else if (result[icount].lstlrngs[icnt].LType == 'Link or Document') {
                                GenerateUrl = (
                                  "<div class='panel-body'>" +
                                            " <div class='span12' >" +
                                             "  <div class='span4'>" +
                                              "   <div class='m10'> <img src=" + result[icount].lstlrngs[icnt].DefaultImageName + "  />  </div>" +
                                               "</div>" +
                                               "<div class='span8'>" +
                                                " <div class='m10'>" +
                                                 "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                  " <p> " + result[icount].lstlrngs[icnt].LShortDescription + "  </p>" +

                                                   "<a class='' data-toggle='modal' href='" + hrefurlLearning + "'> Readmore </a>" +
                                                        "<div id='" + spacehrefLearning + "' class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel1' aria-hidden='true' data-backdrop='static'>" +
                                                      "<div class='modal-header'>" +
                                                       " <h3>Topic Description</h3>" +
                                                      "</div>" +
                                                      "<div class='modal-body'>" +
                                                       " <p> " +
                                                              "'" + result[icount].lstlrngs[icnt].LDescription + "'" +
                                                        "</p>" +
                                                      "</div>" +
                                                      "<div class='modal-footer'>" +
                                                       " <button class='btnAthena' data-dismiss='modal' aria-hidden='true'>Cancel</button>" +

                                                      "</div>" +
                                                    "</div>" +



                                                   "<div>");

                                IntegrateContent += GenerateUrl;

                                if (result[icount].lstlrngs[icnt].DocType == 'PDF') {
                                    debugger;

                                    LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                        " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +

                                                      "<span class='detailDoc'> " +
                                    "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].filePDFUpload + " /> </a> " +
                                    "</span> ");
                                    IntegrateContent += LinkRelatedPDF;
                                    if (result[icount].lstlrngs[icnt].ClientFacing) {
                                        clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                        IntegrateContent += clientFacing;
                                    }

                                    NextDviToComplete = ("</div>" +
                                                      "</div>" +
                                                    "</div>" +
                                                  "</div>" +
                                                  "</div>");
                                    IntegrateContent += NextDviToComplete;


                                }

                                else if (result[icount].lstlrngs[icnt].DocType == 'PPT') {
                                    LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                        " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +

                                                      "<span class='detailDoc'> " +
                                    "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].filePPTUpload + " /> </a> " +
                                    "</span> ");

                                    IntegrateContent += LinkRelatedPDF;
                                    if (result[icount].lstlrngs[icnt].ClientFacing) {
                                        clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                        IntegrateContent += clientFacing;
                                    }

                                    NextDviToComplete = ("</div>" +
                                                      "</div>" +
                                                    "</div>" +
                                                  "</div>" +
                                                  "</div>");
                                    IntegrateContent += NextDviToComplete;

                                }

                                else if (result[icount].lstlrngs[icnt].DocType == 'DOC') {
                                    LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                        " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +

                                                      "<span class='detailDoc'> " +
                                    "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].fileWordUpload + " /> </a> " +
                                    "</span> ");

                                    IntegrateContent += LinkRelatedPDF;
                                    if (result[icount].lstlrngs[icnt].ClientFacing) {
                                        clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                        IntegrateContent += clientFacing;
                                    }

                                    NextDviToComplete = ("</div>" +
                                                      "</div>" +
                                                    "</div>" +
                                                  "</div>" +
                                                  "</div>");
                                    IntegrateContent += NextDviToComplete;

                                }

                                else if (result[icount].lstlrngs[icnt].DocType == 'OTHER') {
                                    LinkRelatedPDF = ("<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                        " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>" +
                                     "<span class='detailDoc'> " +
                                    "<a target='_blank' href=" + result[icount].lstlrngs[icnt].LURL + "> <img class='mrl' width='25' height='25' src=" + result[icount].lstlrngs[icnt].fileURLUpload + " /> </a> " +
                                    "</span> ");

                                    IntegrateContent += LinkRelatedPDF;
                                    if (result[icount].lstlrngs[icnt].ClientFacing) {
                                        clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                        IntegrateContent += clientFacing;
                                    }

                                    NextDviToComplete = ("</div>" +
                                                      "</div>" +
                                                    "</div>" +
                                                  "</div>" +
                                                  "</div>");
                                    IntegrateContent += NextDviToComplete;

                                }

                            }


                            else if (result[icount].lstlrngs[icnt].LType == 'Video') {
                                generateLText = ("<div class='panel-body'>" +
                                                       " <div class='span12'>" +
                                                        "  <div class='span4'>" +
                                                         "   <div class='m10'> <iframe src=" + result[icount].lstlrngs[icnt].LURL + " class='hpit_athena_detailPostIfram' frameborder='0'   scrolling='no' style='border:1px solid #999999'></iframe>  </div>" +
                                                          "</div>" +
                                                          "<div class='span8'>" +
                                                           " <div class='m10'>" +
                                                            "  <h4>" + result[icount].lstlrngs[icnt].LName + " </h4>" +
                                                             " <p> " + result[icount].lstlrngs[icnt].LShortDescription + "  </p>" +

                                                              "<a class='' data-toggle='modal' href='" + hrefurlLearning + "'> Readmore </a>" +

                                                      "<div id='" + spacehrefLearning + "' class='modal hide fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel1' aria-hidden='true' data-backdrop='static'>" +
  "<div class='modal-header'>" +
   " <h3>Topic Description</h3>" +
  "</div>" +
  "<div class='modal-body'>" +
   " <p> " +

                                "'" + result[icount].lstlrngs[icnt].LDescription + "'" +
    "</p>" +
  "</div>" +
  "<div class='modal-footer'>" +
   " <button class='btnAthena' data-dismiss='modal' aria-hidden='true'>Cancel</button>" +

  "</div>" +
"</div>" +



                                                              "<div>" +
                                                               "<a href='mailto:?Subject='" + result[icount].lstlrngs[icnt].LName + "' &Body=Hi,%0D%0A{!LoggedinUserDtls.Name} thought that you may be interested in this learning board!%0D%0A '" + result[icount].lstlrngs[icnt].LName + "' %0D%0A '" + result[icount].lstlrngs[icnt].LDescription + "' %0D%0A  {!getSfInstance}/apex/AthenaLearningBoardDtls?id={!LearningBoardDtls.LBid}'>" +
                                                               " <button class='demo btnAthena btn-primary pull-right'>Share</button></a>");


                                IntegrateContent += generateLText;
                                if (result[icount].lstlrngs[icnt].ClientFacing) {
                                    clientFacing = (" <span><img src=" + result[icount].lstlrngs[icnt].hpsharedIcon + " class='pull-right mrl' /></span>");
                                    IntegrateContent += clientFacing;
                                }

                                NextDviToComplete = ("</div>" +
                                                  "</div>" +
                                                "</div>" +
                                              "</div>" +
                                              "</div>");
                                IntegrateContent += NextDviToComplete;

                            }





                        }


                        var LastDiv = "</div>";
                        IntegrateContent += LastDiv;
                        $('#DivLearnings').append(IntegrateContent);
                    }

                }
            }

        }


        $(document).ready(function () {
            LoadLearningBoard();
            $('input.typeahead-devs').typeahead({
                name: 'accounts',
                local: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
            });

        });



        $('.collapse').on('shown.bs.collapse', function () {
            $(this).parent().find(".icon-plus-sign-alt").removeClass("icon-plus-sign-alt").addClass("icon-check-minus");
        }).on('hidden.bs.collapse', function () {
            $(this).parent().find(".icon-check-minus").removeClass("icon-check-minus").addClass("icon-plus-sign-alt");
        });

    </script> 
<script type="text/javascript">
    function SubmitSearchForm(e) {
        var searchInputId = document.getElementById('{!$Component.UPForm.searchText}');
        var validate = false;
        if (searchInputId.value.length > 0) {
            document.getElementById('err_msg').innerHTML = "";
        }
        if (searchInputId.value == 'Please Enter Search Text') {
            validate = false;
        }
        else if (searchInputId.value.length > 0) {
            document.getElementById('err_msg').innerHTML = "";
            validate = true;
        }
        else {
            validate = false;
        }
        if (validate) {
            var navbutton = document.getElementById("{!$Component.UPForm.searchButton}");
            var key = 0;
            if (window.event) {
                key = e.keyCode;
            }
            else if (e.which) {
                key = e.which;
            }
            if (key == 13) {
                document.getElementById('err_msg').style.display = 'none';
                navbutton.click();
            }
            return true;
        }
        else {
            document.getElementById('err_msg').innerHTML = "Enter Value For Search";
            document.getElementById('err_msg').style.display = 'block';
            return false;
        }
    }

    $(document).ready(function () {


        $('.slide-out-div').tabSlideOut({
            tabHandle: '.handle',                              //class of the element that will be your tab
            pathToTabImage: 'https://{!getSfInstance}/img_athena/img_athena/contact_tab.png ',          //path to the image for the tab (optionaly can be set using css)
            imageHeight: '122px',                               //height of tab image
            imageWidth: '40px',                               //width of tab image    
            tabLocation: 'right',                               //side of screen where tab lives, top, right, bottom, or left
            speed: 300,                                        //speed of animation
            action: 'click',                                   //options: 'click' or 'hover', action to trigger animation
            topPos: '200px',                                   //position from the top
            fixedPosition: false                               //options: true makes it stick(fixed position) on scroll
        });

        $('.publishericon').hide();
        $();

        document.getElementById('publisherDropdown').style.display = 'none';
        document.getElementById('publisherAttachRypplePost').style.display = 'none';


    });
        </script>
</body>
<!-- END BODY -->
</html>
</apex:page>